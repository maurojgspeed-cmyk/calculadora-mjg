<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>MJG Voice Systems</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="manifest.json">
    
    <style>
        :root { --cyan: #00d4ff; --red: #ff4757; --dark: #0a0e14; --panel: #111821; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0; padding: 0; }

        body { 
            background: var(--dark); color: white; font-family: 'Segoe UI', sans-serif; 
            display: flex; flex-direction: column; height: 100vh; width: 100vw; overflow: hidden;
            position: fixed;
        }

        .brand { 
            height: 40px; display: flex; align-items: center; justify-content: center; 
            letter-spacing: 4px; color: var(--cyan); font-size: 0.7rem; border-bottom: 1px solid #222; flex-shrink: 0; 
        }
        
        #history { flex: 1; padding: 10px; overflow-y: auto; color: #555; font-family: monospace; text-align: right; font-size: 0.9rem; }
        
        .display { padding: 15px 20px; background: rgba(255,255,255,0.02); text-align: right; flex-shrink: 0; }
        #transcript { color: var(--cyan); font-size: 0.8rem; min-height: 1.2rem; margin-bottom: 5px; opacity: 0.6; font-style: italic; }
        
        #result { 
            font-size: 4.5rem; font-weight: bold; line-height: 1; 
            overflow-x: auto; white-space: nowrap; scrollbar-width: none;
            text-align: right;
        }
        #result::-webkit-scrollbar { display: none; }

        .voice-area { padding: 12px; background: var(--panel); display: flex; justify-content: center; flex-shrink: 0; }
        #micBtn { 
            background: transparent; border: 2px solid var(--cyan); color: var(--cyan); 
            padding: 14px; border-radius: 50px; font-weight: bold; width: 90%; transition: 0.3s;
            cursor: pointer;
        }
        #micBtn.active { background: var(--red); border-color: var(--red); color: white; box-shadow: 0 0 15px var(--red); }
        
        .keypad { 
            display: grid; grid-template-columns: repeat(4, 1fr); 
            background: #222; gap: 1px; border-top: 1px solid #333;
            flex-shrink: 0;
            padding-bottom: env(safe-area-inset-bottom);
        }
        
        button.key { background: var(--dark); border: none; color: white; height: clamp(65px, 10vh, 85px); font-size: 1.6rem; cursor: pointer; }
        button.key:active { background: #1a2430; }
        button.op { color: var(--cyan); font-weight: bold; }
        
        /* Botón IGUAL grande */
        button.eq { 
            background: var(--cyan) !important; 
            color: var(--dark); 
            font-weight: bold; 
            grid-row: span 2; /* Ocupa dos filas hacia abajo */
            height: 100%; 
        }
        
        button.del { color: var(--red); font-size: 1.1rem; }

        /* Mantenemos el bloqueo visual */
        @media screen and (orientation: landscape) {
            body { flex-direction: row; }
            .keypad { grid-template-columns: repeat(6, 1fr); width: 60%; height: 100%; }
            #history, .display { width: 40%; }
        }
    </style>
</head>
<body>

    <div class="brand">MJG VOICE SYSTEMS</div>
    <div id="history"></div>

    <div class="display">
        <div id="transcript">esperando voz...</div>
        <div id="result">0</div>
    </div>

    <div class="voice-area">
        <button id="micBtn" onclick="toggleListen()">Presionar para hablar</button>
    </div>

 …